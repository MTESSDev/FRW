{"$schema":"http://json-schema.org/draft-07/schema#","$ref":"#/definitions/EcsForm","$id":"https://example.com/schemas/custom","definitions":{"EcsForm":{"type":"object","additionalProperties":false,"properties":{"afficherMessageSauvegardeCourrielReprise":{"type":"boolean","description":"DEPRECATED (Utiliser maintenant enregistrement.afficherMessageIncitatif)"},"form":{"description":"Élément racine d'un formulaire.","$ref":"#/definitions/Form"},"config":{"$ref":"#/definitions/Config"},"textes":{"type":"object"}},"required":["form"],"title":"EcsForm"},"Form":{"type":"object","additionalProperties":false,"properties":{"sectionsGroup":{"type":"array","items":{"$ref":"#/definitions/SectionsGroup"}},"templates":{"type":"object"},"title":{"type":"object","$ref":"#/definitions/Translation","description":"Titre du formulaire"},"inputDefaultClasses":{"type":"object"},"defaults":{"type":"object","$ref":"#/definitions/Defaults"},"outerDefaultClasses":{"type":"object"}},"required":[],"title":"Form"},"Section":{"type":"object","additionalProperties":false,"properties":{"section":{"type":"object","$ref":"#/definitions/Translation"},"id":{"type":"string"},"cacherTexteExplicatifChampsObligatoires":{"type":"boolean","description":"Permet d'afficher l'indication de champs obligatoires."},"classes":{"type":"string","description":""},"v-if":{"type":"string","description":"Conditionnal display on another property/form field."},"components":{"type":"array","items":{"anyOf":[{"$ref":"#/definitions/Input"},{"$ref":"#/definitions/Display"}]}}},"required":["section"],"title":"Section"},"SectionsGroup":{"type":"object","additionalProperties":false,"properties":{"sections":{"type":"array","items":{"$ref":"#/definitions/Section"}},"prefixId":{"type":"string"},"classes":{"type":"string","description":""},"v-if":{"type":"string","description":"Conditionnal display on another property/form field."},"sectionGroup":{"type":["object","null"],"$ref":"#/definitions/Translation","description":"Name of the section group in the menu"}},"title":"Section Group"},"Display":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","examples":["inline","dynamic","bandeau","bandeau-notification","image","avis","accordeon"],"description":"Types from custom templates list."},"classes":{"type":"string","description":""},"afficherBlocCode":{"type":"boolean","title":"afficherBlocCode","description":"Indique si le bloc de code utilisé pour générer le contrôle est affiché sous ce dernier. Utile pour P700 notamment."},"tag":{"type":"string"},"src":{"type":"object","$ref":"#/definitions/Translation"},"base64":{"type":"object","$ref":"#/definitions/Translation"},"text":{"type":"object","$ref":"#/definitions/Translation"},"title":{"type":"object","description":"Titre à afficher","$ref":"#/definitions/Translation"},"additionals":{"type":"object"},"alt":{"type":"object","$ref":"#/definitions/Translation"},"v-if":{"type":"string","description":"Conditionnal display on another property/form field."},"components":{"type":"array","items":{"anyOf":[{"$ref":"#/definitions/Input"},{"$ref":"#/definitions/Display"}]}}},"title":"Display","description":"Display component"},"Input":{"type":"object","default":{"type":"radio","validations":{"required":"trim"}},"additionalProperties":false,"properties":{"name":{"type":"string","description":"Adds a name attribute, and when used with <FormulateForm> this is the key of the field. If no name is defined a random hash will be assigned"},"type":{"type":"string","default":"text","description":"Required. The type of input element. See the input library for a full range of options.","enum":["listeDeroulante","text","codePostal","cp12","nam","nas","montant","adresse","button","submit","customfile","customfileUlterieure","file","group","repeatableGroup","radio","checkbox","select","number","range","textarea","color","date","datetime-local","email","hidden","month","password","search","tel","time","url","week"]},"value":{"type":"string"},"limit":{"type":["number"]},"validation-name":{"type":"object","description":"The name to use in validation error messages. By default, this uses the name prop if available and falls back to the label prop. It can be explicitly overridden here if needed.","$ref":"#/definitions/Translation"},"validation-messages":{"type":"object","title":"validation-messages (Messages de validation personnalisés)","$ref":"#/definitions/ValidationMessages"},"label":{"type":["object","string"],"description":"A descriptive label for the input element.","$ref":"#/definitions/Translation"},"placeholder":{"type":["object","string"],"description":"Placeholder value","$ref":"#/definitions/Translation"},"inputClasses":{"type":"string","description":""},"inputmode":{"type":"string","enum":["number"],"description":"Text field inputmode (html)"},"pattern":{"type":"string","description":"Regex pattern (html)"},"outerClasses":{"type":"string","description":""},"help":{"type":["object","string"],"description":"Help text to be displayed with the input.","$ref":"#/definitions/Translation"},"pdfBind":{"type":"string"},"additionals":{"type":"object"},"v-if":{"type":"string","description":"Conditionnal display on another property/form field."},"v-else-value":{"type":"string","description":"Valeur de remplacement lorsque le v-if n'affiche pas le champ. Supporté CÔTÉ SERVEUR UNIQUEMENT."},"helpPosition":{"type":"string","enum":["before","after"]},"min":{"type":["string","number"],"example":["2018-02"]},"max":{"type":["string","number"],"example":["2018-02"]},"addLabel":{"type":["object","string"],"$ref":"#/definitions/Translation"},"removeLabel":{"type":["object","string"],"$ref":"#/definitions/Translation"},"instanceLabel":{"type":["object","string"],"description":"Label of one instance of a group.","$ref":"#/definitions/Translation"},"tooltip":{"type":["object","string"],"$ref":"#/definitions/Tooltip"},"options":{"type":["object","null","string","array"],"description":"Array or object of options (select or box classifications)","examples":["yesno"]},"nomDocument":{"type":["object","string"],"description":"Spécifique au type 'customFileUlterieure'. Permet de spécifier le nom du document a afficher dans la liste des PJ manquantes.","$ref":"#/definitions/Translation"},"afficherBlocCode":{"type":"boolean","title":"afficherBlocCode","description":"Indique si le bloc de code utilisé pour générer le contrôle est affiché sous ce dernier. Utile pour P700 notamment."},"validations":{"type":["object","null"],"additionalProperties":false,"default":{},"properties":{"required":{"type":["string","null"],"default":"trim","enum":["trim",null],"description":"Checks if the input is empty."},"accepted":{"type":"null","description":"The value must be yes, on, 1 or true. Useful for box inputs, often where you need to validate if someone has accepted terms."},"before":{"type":["string","null"],"description":"Checks if a date comes before another date. If no date argument is provided the current time will be used. The value must be a Date object or a string that can be evaluated by Date.parse.","examples":["2020-12-31"]},"after":{"type":["string","null"],"description":"Checks if a date comes after another date. If no date argument is provided the current time will be used. The value must be a Date object or a string that can be evaluated by Date.parse.","examples":["2020-12-31"]},"alpha":{"type":["string","null"],"description":"Checks if a value is only alphabetical characters. There are two character sets latin and default. Latin characters are strictly [a-zA-Z] while the default set includes most accented characters as well like: ä, ù, or ś.","examples":["latin"],"enum":["latin","default"]},"alphanumeric":{"type":["string","null"],"description":"Checks if a value is only made of alphabetical characters or numeric digits. For the alphabetical portion you can pass default or latin - see alpha.","enum":["latin","default",null]},"between":{"type":["string"],"description":"Checks if a number or string length is between a minimum or maximum. Both the maximum and minimum are exclusive. If the value being validated is a string the string’s length is used for comparison. If a number is used, the numeric value is used for comparison. In v2.2.4+ you can force it to always check the numeric value or string length by setting an optional third argument to value or length.","examples":["10,18,value","8,20,length"]},"confirm":{"type":["string","null"],"description":"Checks if the field value matches the value of another field. Mostly used for hidden fields - like password confirmations. By default, a confirm rule will look for other fields in the same FormulateForm with the suffix _confirm. If you’d like the rule to use a different field as the confirmation, simply pass the other field name as an argument confirm:other_field.","examples":["confirm:other_field"]},"bail":{"type":["null"],"description":"Used to logically stop validation on the first subsequent validation error."},"email":{"type":["null"],"description":"Checks if the input is a valid email address format."},"starts_with":{"type":["string"],"description":"Checks if the input starts with one of the provided options."},"avant":{"type":["string","null"],"description":"Pour une date qui doit être AVANT la date du jour."},"ends_with":{"type":["string"],"description":"Checks if the input ends with one of the provided options."},"in":{"type":["string"],"description":"Checks if the input is included in an array of options."},"matches":{"type":["string"],"examples":["val1,val2","/[0-9]/"],"description":"Checks if the input matches a particular value or pattern. If you pass multiple arguments, it checks each until a match is found."},"min":{"type":["string","number","null"],"examples":["9,length","3","10,value"],"description":"Checks the value of a Number, or length of a String or Array is more than a maximum length or value. The minimum value/length defaults to 1. You can force the validator to evaluate length or value by passing a second argument of either length or value."},"max":{"type":["string","number"],"examples":["5,length",3,"10,value"],"description":"Checks that the value of a Number, or length of a String or Array is less than a maximum length or value. The maximum value/length defaults to 10."},"mime":{"type":["string"],"examples":["image/png","image/jpeg"],"description":"Checks if the type of file selected is an allowed value. This validator uses the file’s extension to determine the mime type. Back-end validation of the file’s content is still strongly encouraged as front-end validation can be bypassed by savvy users."},"not":{"type":["string"],"examples":["val1,val2"],"description":"Checks to ensure the input data does not match a set of predefined values."},"number":{"type":["null"],"description":"Checks if the input is a valid number as evaluated by isNaN()."},"optional":{"type":["null"],"description":"Use this rule to make a field optional. When used all validation rules pass until the field is no longer empty. Its location in the list of validation rules has no effect."},"url":{"type":["null"],"description":"Checks if the input value appears to be a properly formatted URL including the protocol. This does not check if the URL actually resolves."},"nas":{"type":"boolean","description":"Valider le NAS, si true valide vraiment que le NAS est valide, si false valide que c'est un nombre de 9 de long seulement."}},"title":"Validation"},"repeatable":{"type":"boolean"},"minimum":{"type":"number"},"components":{"type":"array","items":{"anyOf":[{"$ref":"#/definitions/Input"},{"$ref":"#/definitions/Display"}]}},"disabled":{"type":"boolean"}},"examples":["validations"],"required":["name"],"dependencies":{"minimum":{"properties":{"type":{"enum":["group","repeatableGroup"]}}},"limit":{"properties":{"type":{"enum":["group","repeatableGroup"]}}},"addLabel":{"properties":{"type":{"enum":["group","file","repeatableGroup"]}}},"removeLabel":{"properties":{"type":{"enum":["group","file","repeatableGroup"]}}}},"title":"Input"},"Translation":{"type":"object","additionalProperties":true,"default":{"fr":"","en":""},"properties":{"fr":{"type":["string","null"],"title":"fr","description":"Texte de langue française."},"en":{"type":["string","null"],"title":"en","description":"Texte de langue anglaise."}},"required":["fr"],"description":"Multilingue","title":"Translation"},"Tooltip":{"type":"object","additionalProperties":true,"default":{"fr":"","en":""},"properties":{"title":{"type":["object","null"],"$ref":"#/definitions/Translation"},"text":{"type":"object","$ref":"#/definitions/Translation"}},"required":["text"],"title":"Translation"},"Defaults":{"type":"object","additionalProperties":true,"title":"Defaults values"},"Config":{"type":"object","additionalProperties":false,"properties":{"afficherBlocCode":{"title":"afficherBlocCode","type":"boolean","description":"(Réservé) Afficher un bloc de code des éléments du formulaire."},"afficherPartagePage":{"title":"afficherPartagePage","type":"boolean","description":"(Avancé) ajouter un bouton partage dans toutes les pages à la droite du titre de la page."},"confirmationTransmission":{"$ref":"#/definitions/ConfirmationTransmission"},"courrielReprise":{"$ref":"#/definitions/CourrielReprise"},"debuterFormulaire":{"$ref":"#/definitions/DebuterFormulaire"},"enregistrement":{"$ref":"#/definitions/Enregistrement"},"formulaireUnilingue":{"type":"boolean","description":"Permet de retirer le selecteur de langue. Le formulaire s'affichera en français seulement."},"gererPlageDisponibilite":{"$ref":"#/definitions/GererPlageDisponibilite"},"injecterJs":{"$ref":"#/definitions/InjecterJs"},"messages":{"$ref":"#/definitions/Messages"},"pages":{"$ref":"#/definitions/Pages"},"piv":{"title":"piv","description":"Paramètres associés au PIV.","type":"object"},"revision":{"$ref":"#/definitions/Revision"},"scripts":{"$ref":"#/definitions/Scripts"},"securite":{"$ref":"#/definitions/Securite"},"soumission":{"$ref":"#/definitions/Soumission"},"title":{"title":"title","description":"Titre à afficher dans le title de la page.","$ref":"#/definitions/Translation"}},"required":[],"title":"Configuration du formulaire"},"Securite":{"type":"object","additionalProperties":false,"properties":{"accesAnonyme":{"type":"boolean","description":"Permet d'activer l'accès anonyme au formulaire."}},"required":[],"title":"Sécurité du formulaire"},"Enregistrement":{"type":"object","additionalProperties":false,"properties":{"actif":{"title":"actif","description":"Indique si l'enregistrement du formulaire est actif (bouton enregistré présent et enregistrement au changement de page).","type":"boolean"},"afficherMessageIncitatif":{"title":"afficherMessageIncitatif","description":"Indique si le message (avis avertissement en haut de chaque page) incitant l'enregistrement est affiché ou non.","type":"boolean"},"texteModaleEnregistrementAuthentifie":{"title":"texteModaleEnregistrementAuthentifie","description":"Texte à afficher dans la fenêtre modale affichée lorsque l'utilisateur enregistre son formulaire la première fois.","$ref":"#/definitions/Translation"}},"required":[],"title":"enregistrement","description":"Paramètres associés à l'enregistrement d'un formulaire"},"GererPlageDisponibilite":{"type":"object","additionalProperties":false,"properties":{"actif":{"type":"boolean"},"joursOuvrablesUniquement":{"type":"boolean"},"nombreConvois":{"type":"integer"},"plages":{"type":"array"}},"required":[],"title":"Gerer les plages de disponibilité"},"ConfirmationTransmission":{"type":"object","additionalProperties":false,"properties":{"texteSupplementaire":{"type":"object","$ref":"#/definitions/Translation","description":"Texte supplémentaire à afficher sous l'avis de succès contenant les infos de confirmation de transmission."},"nomChampCourrielUtilisateur":{"type":"string","description":"Nom du champ courriel qui contient l'adresse courriel à utiliser pour le courriel de confirmation de transmission."},"modaleCourrielConfirmation":{"$ref":"#/definitions/ModaleCourrielConfirmation"}},"required":[],"title":"Confirmation de transmission"},"CourrielReprise":{"type":"object","additionalProperties":false,"properties":{"courrielExpediteur":{"type":"string","title":"courrielExpediteur","description":"Adresse courriel expéditeur.","examples":["NEPASREPONDRE@mtess.gouv.qc.ca"]},"nomExpediteur":{"type":"string","title":"courrielExpediteur","description":"Nom de l'expéditeur expéditeur.","examples":["Formulaires en ligne - MESS"]},"objet":{"$ref":"#/definitions/Translation","title":"objet","description":"Objet du courriel.","examples":["Formulaire  « {0} » incomplet"]},"corps":{"$ref":"#/definitions/Translation","title":"corps","description":"Corps (contenu) du courriel."}},"required":[],"title":"courrielReprise","description":"Paramètres associés au courriel de reprise."},"DebuterFormulaire":{"type":"object","additionalProperties":false,"properties":{"authentifie":{"type":"object","title":"authentifie","description":"Paramètres de la page permettant de débuter un formulaire authentifié.","additionalProperties":false,"properties":{"actif":{"type":"boolean","title":"actif","description":"Indique si la page d'initialisation d'un formulaire est active ou non."},"urlAuthentification":{"$ref":"#/definitions/Translation","title":"urlAuthentification","description":"Url à utiliser pour l'authentification."},"texte":{"$ref":"#/definitions/Translation","title":"texte","description":"Texte à afficher dans la page."},"boutonDebuter":{"$ref":"#/definitions/Translation","title":"boutonDebuter","description":"Libellé du bouton permettant de débuter un formulaire."},"boutonDebuterTitreAccessibilite":{"$ref":"#/definitions/Translation","title":"boutonDebuterTitreAccessibilite","description":"Title du bouton permettant de débuter un formulaire (accessibilité)."}}},"anonyme":{"type":"object","title":"anonyme","description":"Paramètres de la page permettant de débuter un formulaire anonyme.","additionalProperties":false,"properties":{"texte":{"$ref":"#/definitions/Translation","title":"texte","description":"Texte à afficher dans la page."},"boutonDebuter":{"$ref":"#/definitions/Translation","title":"boutonDebuter","description":"Libellé du bouton permettant de débuter un formulaire."},"boutonDebuterTitreAccessibilite":{"$ref":"#/definitions/Translation","title":"boutonDebuterTitreAccessibilite","description":"Title du bouton permettant de débuter un formulaire (accessibilité)."}}}},"required":[],"title":"debuterFormulaire","description":"Paramètres de la page permettant de débuter un formulaire."},"Messages":{"type":"object","additionalProperties":false,"properties":{"erreurTechnique":{"type":"object","title":"erreurTechnique","description":"Paramètres du message d'erreur technique.","additionalProperties":false,"properties":{"titre":{"$ref":"#/definitions/Translation","title":"titre","description":"Titre du message."},"corps":{"$ref":"#/definitions/Translation","title":"corps","description":"Corps du message."}}}},"required":[],"title":"messages","description":"Paramètres associés aux différents messages."},"Pages":{"type":"object","additionalProperties":false,"properties":{"sessionInvalide":{"type":"object","title":"sessionInvalide","description":"Paramètres associés à la page de session invalide.","additionalProperties":false,"properties":{"titrePage":{"$ref":"#/definitions/Translation","title":"titrePage","description":"Titre (h1) à afficher dans la page."},"corpsMessageAvertissement":{"$ref":"#/definitions/Translation","title":"corpsMessageAvertissement","description":"Corps du message d'avertissement affiché dans la page."}}}},"required":[],"title":"pages","description":"Paramètres associés à différentes pages."},"Revision":{"type":"object","additionalProperties":false,"properties":{"validationAutomatique":{"type":"boolean","description":"Indique si la fenêtre modale permettant la saisie d'une adresse courriel pour le courriel de confirmation est affichée ou non."}},"required":[],"title":"Page de révision"},"Soumission":{"type":"object","additionalProperties":false,"properties":{"texteBoutonSoumettre":{"$ref":"#/definitions/Translation","description":"Libellé du bouton de soumission."}},"required":[],"title":"Page de soumission"},"ModaleCourrielConfirmation":{"type":"object","additionalProperties":false,"properties":{"actif":{"type":"boolean","description":"Indique si la fenêtre modale permettant la saisie d'une adresse courriel pour le courriel de confirmation est affichée ou non."}},"required":[],"title":"Fenêtre modale de courriel de confirmation"},"ValidationMessages":{"patternProperties":{"^[a-zA-Z0-9]+$":{"title":"Nom de la validation à laquelle appliquer un message personnalisé.","description":"Le texte multilingue spécifié sera utilisé comme message d'erreur pour la validation.","$ref":"#/definitions/Translation"}}},"InjecterJs":{"type":"object","additionalProperties":false,"properties":{"method":{"type":"object","additionalProperties":false,"title":"method","description":"Méthodes de type 'method' à injecter au code au modèle vue.js du formulaire.","$ref":"#/definitions/NomFonction"},"computed":{"type":"object","additionalProperties":false,"title":"computed","description":"Méthodes de type 'computed' à injecter au code au modèle vue.js du formulaire.","$ref":"#/definitions/NomFonction"},"watch":{"type":"object","additionalProperties":false,"title":"watch","description":"Méthodes de type 'watch' à injecter au code au modèle vue.js du formulaire.","$ref":"#/definitions/NomFonction"}},"required":[],"title":"Scripts Vue.js à injecter au formulaire."},"NomFonction":{"patternProperties":{"^[a-zA-Z0-9]+$":{"type":"object","title":"Nom de la fonction Vue.js à injecter dans le formulaire","properties":{"code":{"$ref":"#/definitions/Code"}},"additionalProperties":false,"required":["code"]}}},"Code":{"type":"string","title":"Code de la fonction","description":"Doit respecter le format fourni dans l'exemple. Votre code va entre les accolades.","examples":["(){return 'bonjour!'}"]},"Scripts":{"type":"object","additionalProperties":false,"properties":{"outilStatistiques":{"type":"string","title":"outilStatistiques","description":"Javascript servant à une solution d'outil statistiques (ex. Google Analytics ou Matomo). Injecté dans toutes les pages à la fin du body.","examples":["<script> // Votre js ici... </script>"]}},"required":[],"title":"scripts","description":"(Avancé) Paramètres d'injection de javascript."}}}
